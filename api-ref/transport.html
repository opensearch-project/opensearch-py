

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>transport &mdash; OpenSearch Python Client  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=7f485136" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=b3ba4146"></script>
      <script src="../_static/doctools.js?v=888ff710"></script>
      <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Index" href="../genindex.html" />
    <link rel="prev" title="serializer" href="serializer.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            OpenSearch Python Client
              <img src="../_static/OpenSearch.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../api-ref.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="client.html">Clients</a></li>
<li class="toctree-l2"><a class="reference internal" href="connection.html">Connection Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="connection_pool.html">connection_pool</a></li>
<li class="toctree-l2"><a class="reference internal" href="exceptions.html">exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers.html">helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html">metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="plugins.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="serializer.html">serializer</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">transport</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#opensearchpy.Transport"><code class="docutils literal notranslate"><span class="pre">Transport</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#opensearchpy.Transport.DEFAULT_CONNECTION_CLASS"><code class="docutils literal notranslate"><span class="pre">Transport.DEFAULT_CONNECTION_CLASS</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#opensearchpy.Transport._get_sniff_data"><code class="docutils literal notranslate"><span class="pre">Transport._get_sniff_data()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#opensearchpy.Transport._resolve_request_args"><code class="docutils literal notranslate"><span class="pre">Transport._resolve_request_args()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#opensearchpy.Transport.add_connection"><code class="docutils literal notranslate"><span class="pre">Transport.add_connection()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#opensearchpy.Transport.close"><code class="docutils literal notranslate"><span class="pre">Transport.close()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#opensearchpy.Transport.get_connection"><code class="docutils literal notranslate"><span class="pre">Transport.get_connection()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#opensearchpy.Transport.mark_dead"><code class="docutils literal notranslate"><span class="pre">Transport.mark_dead()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#opensearchpy.Transport.perform_request"><code class="docutils literal notranslate"><span class="pre">Transport.perform_request()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#opensearchpy.Transport.set_connections"><code class="docutils literal notranslate"><span class="pre">Transport.set_connections()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#opensearchpy.Transport.sniff_hosts"><code class="docutils literal notranslate"><span class="pre">Transport.sniff_hosts()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/opensearch-project/opensearch-py/blob/main/LICENSE.txt">License</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/opensearch-project/opensearch-py/blob/main/CONTRIBUTING.md">Contributing</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/opensearch-project/opensearch-py/blob/main/CODE_OF_CONDUCT.md">Code of Conduct</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/opensearch-project/opensearch-py/blob/main/DEVELOPER_GUIDE.md">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/opensearch-project/opensearch-py">GitHub Repository</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">OpenSearch Python Client</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api-ref.html">API Reference</a></li>
      <li class="breadcrumb-item active">transport</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/opensearch-project/opensearch-py/blob/main/docs/source/api-ref/transport.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="transport">
<h1>transport<a class="headerlink" href="#transport" title="Permalink to this heading">ÔÉÅ</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="opensearchpy.Transport">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">opensearchpy.</span></span><span class="sig-name descname"><span class="pre">Transport</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hosts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connection_class=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connection_pool_class=&lt;class</span> <span class="pre">'opensearchpy.connection_pool.ConnectionPool'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host_info_callback=&lt;function</span> <span class="pre">get_host_info&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sniff_on_start=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sniffer_timeout=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sniff_timeout=0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sniff_on_connection_fail=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serializer=&lt;opensearchpy.serializer.JSONSerializer</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">serializers=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_mimetype='application/json'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_retries=3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool_maxsize=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_on_status=(502</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">503</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">504)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_on_timeout=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">send_get_body_as='GET'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics=&lt;opensearchpy.metrics.metrics_none.MetricsNone</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opensearchpy/transport.html#Transport"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensearchpy.Transport" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Encapsulation of transport-related to logic. Handles instantiation of the
individual connections as well as creating a connection pool to hold them.</p>
<p>Main interface is the <cite>perform_request</cite> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hosts</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a>) ‚Äì list of dictionaries, each containing keyword arguments to
create a <cite>connection_class</cite> instance</p></li>
<li><p><strong>connection_class</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.14)"><em>Type</em></a><em>[</em><a class="reference internal" href="connection.html#opensearchpy.Connection" title="opensearchpy.connection.base.Connection"><em>Connection</em></a><em>]</em>) ‚Äì subclass of <a class="reference internal" href="connection.html#opensearchpy.Connection" title="opensearchpy.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> to use</p></li>
<li><p><strong>connection_pool_class</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a>) ‚Äì subclass of <a class="reference internal" href="connection_pool.html#opensearchpy.ConnectionPool" title="opensearchpy.ConnectionPool"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConnectionPool</span></code></a> to use</p></li>
<li><p><strong>host_info_callback</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a>) ‚Äì callback responsible for taking the node information from
<cite>/_cluster/nodes</cite>, along with already extracted information, and
producing a list of arguments (same as <cite>hosts</cite> parameter)</p></li>
<li><p><strong>sniff_on_start</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) ‚Äì flag indicating whether to obtain a list of nodes
from the cluster at startup time</p></li>
<li><p><strong>sniffer_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) ‚Äì number of seconds between automatic sniffs</p></li>
<li><p><strong>sniff_on_connection_fail</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) ‚Äì flag controlling if connection failure triggers a sniff</p></li>
<li><p><strong>sniff_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) ‚Äì timeout used for the sniff request - it should be a
fast api call and we are talking potentially to more nodes so we want
to fail quickly. Not used during initial sniffing (if
<code class="docutils literal notranslate"><span class="pre">sniff_on_start</span></code> is on) when the connection still isn‚Äôt
initialized.</p></li>
<li><p><strong>serializer</strong> (<em>Serializer</em>) ‚Äì serializer instance</p></li>
<li><p><strong>serializers</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.14)"><em>Mapping</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><em>Serializer</em><em>] </em><em>| </em><em>None</em>) ‚Äì optional dict of serializer instances that will be
used for deserializing data coming from the server. (key is the mimetype)</p></li>
<li><p><strong>default_mimetype</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) ‚Äì when no mimetype is specified by the server
response assume this mimetype, defaults to <cite>‚Äòapplication/json‚Äô</cite></p></li>
<li><p><strong>max_retries</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) ‚Äì maximum number of retries before an exception is propagated</p></li>
<li><p><strong>retry_on_status</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Collection" title="(in Python v3.14)"><em>Collection</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>]</em>) ‚Äì set of HTTP status codes on which we should retry
on a different node. defaults to <code class="docutils literal notranslate"><span class="pre">(502,</span> <span class="pre">503,</span> <span class="pre">504)</span></code></p></li>
<li><p><strong>retry_on_timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) ‚Äì should timeout trigger a retry on different
node? (default <cite>False</cite>)</p></li>
<li><p><strong>send_get_body_as</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) ‚Äì for GET requests with body this option allows
you to specify an alternate way of execution for environments that
don‚Äôt support passing bodies with GET requests. If you set this to
‚ÄòPOST‚Äô a POST method will be used instead, if to ‚Äòsource‚Äô then the body
will be serialized and passed as a query parameter <cite>source</cite>.</p></li>
<li><p><strong>pool_maxsize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em> | </em><em>None</em>) ‚Äì Maximum connection pool size used by pool-manager
For custom connection-pooling on current session</p></li>
<li><p><strong>metrics</strong> (<a class="reference internal" href="metrics.html#opensearchpy.Metrics" title="opensearchpy.metrics.metrics.Metrics"><em>Metrics</em></a>) ‚Äì metrics is an instance of a subclass of the
<a class="reference internal" href="metrics.html#opensearchpy.Metrics" title="opensearchpy.Metrics"><code class="xref py py-class docutils literal notranslate"><span class="pre">Metrics</span></code></a> class, used for collecting
and reporting metrics related to the client‚Äôs operations;</p></li>
<li><p><strong>hosts</strong> ‚Äì </p></li>
<li><p><strong>connection_class</strong> ‚Äì </p></li>
<li><p><strong>connection_pool_class</strong> ‚Äì </p></li>
<li><p><strong>host_info_callback</strong> ‚Äì </p></li>
<li><p><strong>sniff_on_start</strong> ‚Äì </p></li>
<li><p><strong>sniffer_timeout</strong> ‚Äì </p></li>
<li><p><strong>sniff_timeout</strong> ‚Äì </p></li>
<li><p><strong>sniff_on_connection_fail</strong> ‚Äì </p></li>
<li><p><strong>serializer</strong> ‚Äì </p></li>
<li><p><strong>serializers</strong> ‚Äì </p></li>
<li><p><strong>default_mimetype</strong> ‚Äì </p></li>
<li><p><strong>max_retries</strong> ‚Äì </p></li>
<li><p><strong>pool_maxsize</strong> ‚Äì </p></li>
<li><p><strong>retry_on_status</strong> ‚Äì </p></li>
<li><p><strong>retry_on_timeout</strong> ‚Äì </p></li>
<li><p><strong>send_get_body_as</strong> ‚Äì </p></li>
<li><p><strong>metrics</strong> ‚Äì </p></li>
<li><p><strong>kwargs</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a>) ‚Äì </p></li>
</ul>
</dd>
</dl>
<p>Any extra keyword arguments will be passed to the <cite>connection_class</cite>
when creating and instance unless overridden by that connection‚Äôs
options provided as part of the hosts parameter.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="opensearchpy.Transport.DEFAULT_CONNECTION_CLASS">
<span class="sig-name descname"><span class="pre">DEFAULT_CONNECTION_CLASS</span></span><a class="headerlink" href="#opensearchpy.Transport.DEFAULT_CONNECTION_CLASS" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>alias of <a class="reference internal" href="connection.html#opensearchpy.Urllib3HttpConnection" title="opensearchpy.connection.http_urllib3.Urllib3HttpConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Urllib3HttpConnection</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensearchpy.Transport._get_sniff_data">
<span class="sig-name descname"><span class="pre">_get_sniff_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opensearchpy/transport.html#Transport._get_sniff_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensearchpy.Transport._get_sniff_data" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Perform the request to get sniffing information. Returns a list of
dictionaries (one per node) containing all the information from the
cluster.</p>
<p>It also sets the last_sniff attribute in case of a successful attempt.</p>
<p>In rare cases it might be possible to override this method in your
custom Transport class to serve data from alternative source like
configuration management.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>initial</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) ‚Äì </p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensearchpy.Transport._resolve_request_args">
<span class="sig-name descname"><span class="pre">_resolve_request_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opensearchpy/transport.html#Transport._resolve_request_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensearchpy.Transport._resolve_request_args" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Resolves parameters for .perform_request()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) ‚Äì </p></li>
<li><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a>) ‚Äì </p></li>
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a>) ‚Äì </p></li>
<li><p><strong>ignore</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Collection" title="(in Python v3.14)"><em>Collection</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>]</em>) ‚Äì </p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) ‚Äì </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensearchpy.Transport.add_connection">
<span class="sig-name descname"><span class="pre">add_connection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opensearchpy/transport.html#Transport.add_connection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensearchpy.Transport.add_connection" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Create a new <a class="reference internal" href="connection.html#opensearchpy.Connection" title="opensearchpy.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> instance and add it to the pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>host</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a>) ‚Äì kwargs that will be used to create the instance</p></li>
<li><p><strong>host</strong> ‚Äì </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensearchpy.Transport.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opensearchpy/transport.html#Transport.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensearchpy.Transport.close" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Explicitly closes connections</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensearchpy.Transport.get_connection">
<span class="sig-name descname"><span class="pre">get_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opensearchpy/transport.html#Transport.get_connection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensearchpy.Transport.get_connection" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Retrieve a <a class="reference internal" href="connection.html#opensearchpy.Connection" title="opensearchpy.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> instance from the
<a class="reference internal" href="connection_pool.html#opensearchpy.ConnectionPool" title="opensearchpy.ConnectionPool"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConnectionPool</span></code></a> instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensearchpy.Transport.mark_dead">
<span class="sig-name descname"><span class="pre">mark_dead</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opensearchpy/transport.html#Transport.mark_dead"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensearchpy.Transport.mark_dead" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Mark a connection as dead (failed) in the connection pool. If sniffing
on failure is enabled this will initiate the sniffing process.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connection</strong> (<a class="reference internal" href="connection.html#opensearchpy.Connection" title="opensearchpy.connection.base.Connection"><em>Connection</em></a>) ‚Äì instance of <a class="reference internal" href="connection.html#opensearchpy.Connection" title="opensearchpy.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> that failed</p></li>
<li><p><strong>connection</strong> ‚Äì </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensearchpy.Transport.perform_request">
<span class="sig-name descname"><span class="pre">perform_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opensearchpy/transport.html#Transport.perform_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensearchpy.Transport.perform_request" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Perform the actual request. Retrieve a connection from the connection
pool, pass all the information to its perform_request method and
return the data.</p>
<p>If an exception was raised, mark the connection as failed and retry (up
to <cite>max_retries</cite> times).</p>
<p>If the operation was successful and the connection used was previously
marked as dead, mark it as live, resetting its failure count.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) ‚Äì HTTP method to use</p></li>
<li><p><strong>url</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) ‚Äì absolute url (without host) to target</p></li>
<li><p><strong>headers</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.14)"><em>Mapping</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>] </em><em>| </em><em>None</em>) ‚Äì dictionary of headers, will be handed over to the
underlying <a class="reference internal" href="connection.html#opensearchpy.Connection" title="opensearchpy.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> class</p></li>
<li><p><strong>params</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Mapping" title="(in Python v3.14)"><em>Mapping</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a><em>, </em><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em>] </em><em>| </em><em>None</em>) ‚Äì dictionary of query parameters, will be handed over to the
underlying <a class="reference internal" href="connection.html#opensearchpy.Connection" title="opensearchpy.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> class for serialization</p></li>
<li><p><strong>body</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a><em> | </em><em>None</em>) ‚Äì body of the request, will be serialized using serializer and
passed to the connection</p></li>
<li><p><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em> | </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em> | </em><em>None</em>) ‚Äì timeout of the request. If it is not presented as argument
will be extracted from <cite>params</cite></p></li>
<li><p><strong>method</strong> ‚Äì </p></li>
<li><p><strong>url</strong> ‚Äì </p></li>
<li><p><strong>params</strong> ‚Äì </p></li>
<li><p><strong>body</strong> ‚Äì </p></li>
<li><p><strong>timeout</strong> ‚Äì </p></li>
<li><p><strong>ignore</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Collection" title="(in Python v3.14)"><em>Collection</em></a><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>]</em>) ‚Äì </p></li>
<li><p><strong>headers</strong> ‚Äì </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensearchpy.Transport.set_connections">
<span class="sig-name descname"><span class="pre">set_connections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hosts</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opensearchpy/transport.html#Transport.set_connections"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensearchpy.Transport.set_connections" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Instantiate all the connections and create new connection pool to hold them.
Tries to identify unchanged hosts and re-use existing
<a class="reference internal" href="connection.html#opensearchpy.Connection" title="opensearchpy.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a> instances.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>hosts</strong> (<a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a>) ‚Äì same as <cite>__init__</cite></p></li>
<li><p><strong>hosts</strong> ‚Äì </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="opensearchpy.Transport.sniff_hosts">
<span class="sig-name descname"><span class="pre">sniff_hosts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/opensearchpy/transport.html#Transport.sniff_hosts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#opensearchpy.Transport.sniff_hosts" title="Permalink to this definition">ÔÉÅ</a></dt>
<dd><p>Obtain a list of nodes from the cluster and create a new connection
pool using the information retrieved.</p>
<p>To extract the node connection parameters use the <code class="docutils literal notranslate"><span class="pre">nodes_to_host_callback</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>initial</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a>) ‚Äì flag indicating if this is during startup
(<code class="docutils literal notranslate"><span class="pre">sniff_on_start</span></code>), ignore the <code class="docutils literal notranslate"><span class="pre">sniff_timeout</span></code> if <code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
<li><p><strong>initial</strong> ‚Äì </p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.14)"><em>Any</em></a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="serializer.html" class="btn btn-neutral float-left" title="serializer" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../genindex.html" class="btn btn-neutral float-right" title="Index" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright OpenSearch Project Contributors.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>